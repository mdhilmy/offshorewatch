const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cacheService-Di-KdHW3.js","assets/index-eAN7I8HX.js","assets/charts-L6FsWgqu.js","assets/vendor-l9rrfVDV.js","assets/index-BHPuGQQM.css"])))=>i.map(i=>d[i]);
import{c as g,a as U,S as L,D as I,i as b,_ as R}from"./index-eAN7I8HX.js";import{j as e}from"./charts-L6FsWgqu.js";import{r as y}from"./vendor-l9rrfVDV.js";import{C as x}from"./Card-mKvuYzky.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=g("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=g("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=g("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=g("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=g("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),q=()=>{var n,i,l,d,h,v,p,o,m,k,w,N,C,T,W,M,H,O,P,A,D;const{settings:a,dispatch:s}=U();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"w-8 h-8 text-primary-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-gray-600",children:"Configure your preferences, thresholds, and API keys"})]})]}),e.jsx(x,{title:"Unit Preferences",subtitle:"Choose your preferred measurement units",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(j,{label:"Wind Speed",value:a.units.windSpeed,options:[{value:"knots",label:"Knots (kt)"},{value:"ms",label:"Meters/sec (m/s)"},{value:"mph",label:"Miles/hour (mph)"},{value:"kmh",label:"Kilometers/hour (km/h)"}],onChange:t=>s({type:"UPDATE_UNITS",payload:{windSpeed:t}})}),e.jsx(j,{label:"Wave Height",value:a.units.waveHeight,options:[{value:"meters",label:"Meters (m)"},{value:"feet",label:"Feet (ft)"}],onChange:t=>s({type:"UPDATE_UNITS",payload:{waveHeight:t}})}),e.jsx(j,{label:"Temperature",value:a.units.temperature,options:[{value:"celsius",label:"Celsius (°C)"},{value:"fahrenheit",label:"Fahrenheit (°F)"}],onChange:t=>s({type:"UPDATE_UNITS",payload:{temperature:t}})}),e.jsx(j,{label:"Distance",value:a.units.distance,options:[{value:"km",label:"Kilometers (km)"},{value:"miles",label:"Miles (mi)"},{value:"nm",label:"Nautical Miles (NM)"}],onChange:t=>s({type:"UPDATE_UNITS",payload:{distance:t}})})]})}),e.jsx(x,{title:"Operational Thresholds",subtitle:"Customize limits used for weather window calculations",action:e.jsxs("button",{onClick:()=>s({type:"UPDATE_THRESHOLDS",payload:I}),className:"flex items-center gap-1.5 text-xs text-gray-600 hover:text-gray-800 px-2 py-1 rounded hover:bg-gray-100",children:[e.jsx(K,{className:"w-3.5 h-3.5"}),"Reset defaults"]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(c,{title:"Helicopter Operations",fields:[{key:"maxWindSpeed",label:"Max Wind Speed",unit:"knots",value:(n=a.thresholds.helicopterOps)==null?void 0:n.maxWindSpeed},{key:"maxWindGusts",label:"Max Wind Gusts",unit:"knots",value:(i=a.thresholds.helicopterOps)==null?void 0:i.maxWindGusts},{key:"maxWaveHeight",label:"Max Wave Height",unit:"m",value:(l=a.thresholds.helicopterOps)==null?void 0:l.maxWaveHeight},{key:"minVisibility",label:"Min Visibility",unit:"km",value:(d=a.thresholds.helicopterOps)==null?void 0:d.minVisibility},{key:"minCeiling",label:"Min Ceiling",unit:"m",value:(h=a.thresholds.helicopterOps)==null?void 0:h.minCeiling}],onChange:(t,r)=>s({type:"UPDATE_THRESHOLDS",payload:{helicopterOps:{...a.thresholds.helicopterOps,[t]:r}}})}),e.jsx(c,{title:"Crane Lift",fields:[{key:"maxWindSpeed",label:"Max Wind Speed",unit:"knots",value:(v=a.thresholds.craneLift)==null?void 0:v.maxWindSpeed},{key:"maxWaveHeight",label:"Max Wave Height",unit:"m",value:(p=a.thresholds.craneLift)==null?void 0:p.maxWaveHeight}],onChange:(t,r)=>s({type:"UPDATE_THRESHOLDS",payload:{craneLift:{...a.thresholds.craneLift,[t]:r}}})}),e.jsx(c,{title:"Diving Operations",fields:[{key:"maxWaveHeight",label:"Max Wave Height",unit:"m",value:(o=a.thresholds.divingOps)==null?void 0:o.maxWaveHeight},{key:"maxCurrentSpeed",label:"Max Current Speed",unit:"knots",value:(m=a.thresholds.divingOps)==null?void 0:m.maxCurrentSpeed},{key:"maxWindSpeed",label:"Max Wind Speed",unit:"knots",value:(k=a.thresholds.divingOps)==null?void 0:k.maxWindSpeed}],onChange:(t,r)=>s({type:"UPDATE_THRESHOLDS",payload:{divingOps:{...a.thresholds.divingOps,[t]:r}}})}),e.jsx(c,{title:"Rig Move",fields:[{key:"maxWindSpeed",label:"Max Wind Speed",unit:"knots",value:(w=a.thresholds.rigMove)==null?void 0:w.maxWindSpeed},{key:"maxWaveHeight",label:"Max Wave Height",unit:"m",value:(N=a.thresholds.rigMove)==null?void 0:N.maxWaveHeight},{key:"minWindowHours",label:"Min Window Duration",unit:"hours",value:(C=a.thresholds.rigMove)==null?void 0:C.minWindowHours}],onChange:(t,r)=>s({type:"UPDATE_THRESHOLDS",payload:{rigMove:{...a.thresholds.rigMove,[t]:r}}})}),e.jsx(c,{title:"Personnel Transfer (Boat)",fields:[{key:"maxWaveHeight",label:"Max Wave Height",unit:"m",value:(W=(T=a.thresholds.personnelTransfer)==null?void 0:T.boat)==null?void 0:W.maxWaveHeight},{key:"maxWindSpeed",label:"Max Wind Speed",unit:"knots",value:(H=(M=a.thresholds.personnelTransfer)==null?void 0:M.boat)==null?void 0:H.maxWindSpeed}],onChange:(t,r)=>{var u;return s({type:"UPDATE_THRESHOLDS",payload:{personnelTransfer:{...a.thresholds.personnelTransfer,boat:{...(u=a.thresholds.personnelTransfer)==null?void 0:u.boat,[t]:r}}}})}}),e.jsx(c,{title:"Personnel Transfer (W2W)",fields:[{key:"maxWaveHeight",label:"Max Wave Height",unit:"m",value:(P=(O=a.thresholds.personnelTransfer)==null?void 0:O.w2w)==null?void 0:P.maxWaveHeight},{key:"maxWindSpeed",label:"Max Wind Speed",unit:"knots",value:(D=(A=a.thresholds.personnelTransfer)==null?void 0:A.w2w)==null?void 0:D.maxWindSpeed}],onChange:(t,r)=>{var u;return s({type:"UPDATE_THRESHOLDS",payload:{personnelTransfer:{...a.thresholds.personnelTransfer,w2w:{...(u=a.thresholds.personnelTransfer)==null?void 0:u.w2w,[t]:r}}}})}})]})}),e.jsx(x,{title:"Display Preferences",subtitle:"Map layer visibility settings",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(f,{label:"Show Platforms",checked:a.display.showPlatforms,onChange:t=>s({type:"UPDATE_DISPLAY",payload:{showPlatforms:t}})}),e.jsx(f,{label:"Show Buoys",checked:a.display.showBuoys,onChange:t=>s({type:"UPDATE_DISPLAY",payload:{showBuoys:t}})}),e.jsx(f,{label:"Show Storm Tracks",checked:a.display.showStorms,onChange:t=>s({type:"UPDATE_DISPLAY",payload:{showStorms:t}})})]})}),e.jsx(V,{}),e.jsx(F,{}),e.jsx(x,{title:"About",children:e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"OffshoreWatch"})," — Global Offshore Operations Weather & Safety Planning Platform"]}),e.jsx("p",{children:"Version 1.1.0"}),e.jsx("p",{className:"text-xs",children:"Data sources: Open-Meteo, NOAA NHC, USGS, NDBC, NOAA CO-OPS"}),e.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"Built with React, Vite, Tailwind CSS, Chart.js, and Leaflet"})]})})]})},j=({label:a,value:s,options:n,onChange:i})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),e.jsx("select",{value:s,onChange:l=>i(l.target.value),className:"input-field",children:n.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]}),c=({title:a,fields:s,onChange:n})=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:a}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:s.map(i=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:[i.label," (",i.unit,")"]}),e.jsx("input",{type:"number",step:"0.1",value:i.value??"",onChange:l=>{const d=l.target.value===""?null:parseFloat(l.target.value);n(i.key,d)},className:"input-field text-sm"})]},i.key))})]}),f=({label:a,checked:s,onChange:n})=>e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsx("span",{className:"text-sm text-gray-700",children:a}),e.jsx("button",{type:"button",role:"switch","aria-checked":s,onClick:()=>n(!s),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s?"bg-primary-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})]}),V=()=>{const[a,s]=y.useState(()=>localStorage.getItem(`${b}apikey_mapbox`)||""),[n,i]=y.useState(()=>localStorage.getItem(`${b}apikey_openweather`)||""),[l,d]=y.useState(!1),[h,v]=y.useState(!1),p=(o,m)=>{m.trim()?localStorage.setItem(`${b}apikey_${o}`,m.trim()):localStorage.removeItem(`${b}apikey_${o}`)};return e.jsx(x,{title:"API Keys (Optional)",subtitle:"Add API keys for enhanced map tiles and weather data",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mapbox Access Token"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:l?"text":"password",value:a,onChange:o=>s(o.target.value),placeholder:"pk.ey...",className:"input-field pr-10 text-sm"}),e.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?e.jsx(E,{className:"w-4 h-4"}):e.jsx(_,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>p("mapbox",a),className:"btn-primary text-sm",children:e.jsx(S,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Used for satellite map tiles"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OpenWeatherMap API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:h?"text":"password",value:n,onChange:o=>i(o.target.value),placeholder:"API key...",className:"input-field pr-10 text-sm"}),e.jsx("button",{type:"button",onClick:()=>v(!h),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?e.jsx(E,{className:"w-4 h-4"}):e.jsx(_,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>p("openweather",n),className:"btn-primary text-sm",children:e.jsx(S,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Used for alternative weather data"})]})]})})},F=()=>{const[a,s]=y.useState(!1),n=async()=>{try{const{clearCache:i}=await R(async()=>{const{clearCache:l}=await import("./cacheService-Di-KdHW3.js");return{clearCache:l}},__vite__mapDeps([0,1,2,3,4]));await i(),s(!0),setTimeout(()=>s(!1),3e3)}catch(i){console.error("Failed to clear cache:",i)}};return e.jsx(x,{title:"Data Cache",subtitle:"Manage cached weather and API data",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Clear all cached weather, storm, and seismic data."}),e.jsxs("button",{onClick:n,className:`flex items-center gap-1.5 text-sm px-3 py-1.5 rounded-md border ${a?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700 hover:bg-red-100"}`,children:[a?e.jsx(S,{className:"w-4 h-4"}):e.jsx($,{className:"w-4 h-4"}),a?"Cleared":"Clear Cache"]})]})})};export{q as default};
