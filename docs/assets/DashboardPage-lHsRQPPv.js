import{j as e}from"./charts-L6FsWgqu.js";import{u as W,R as L,L as n,W as C,A as N,C as R}from"./index-eAN7I8HX.js";import{u as k}from"./useWeatherData-B2k0rqJg.js";import{u as E}from"./useStormData-Bh-8lJF_.js";import{u as T}from"./useSeismicData-BlFhXl0o.js";import{u as z}from"./useUnits-5qtlhRyL.js";import{C as c}from"./Card-mKvuYzky.js";import{E as H}from"./ErrorMessage-DGsvJo_K.js";import{f}from"./dateUtils-C0Z1jtkc.js";import{W as I,T as M}from"./wind-B7X9ZIZY.js";import"./vendor-l9rrfVDV.js";import"./cacheService-Di-KdHW3.js";import"./alert-circle-CraVoUg3.js";const X=()=>{var o,h,j,p;const{state:g}=W(),{formatWind:y,formatWave:u,formatTemp:v,formatVisibility:b}=z(),s=L[g.currentRegion],[d,m]=(s==null?void 0:s.center)||[27.5,-90.5],{data:a,isLoading:w,error:x}=k(d,m),{data:r,isLoading:S}=E(((o=s==null?void 0:s.stormBasins)==null?void 0:o[0])||"atlantic"),{data:l,isLoading:A}=T({latitude:d,longitude:m}),i=(h=a==null?void 0:a.hourly)==null?void 0:h[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600",children:s==null?void 0:s.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(c,{title:"Current Conditions",subtitle:a!=null&&a.fetchedAt?`Updated ${f(a.fetchedAt)}`:"",children:w?e.jsx(n,{size:"sm"}):x?e.jsx(H,{error:x}):i?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Wave Height"})]}),e.jsx("span",{className:"font-semibold text-gray-900",children:u(i.waveHeight)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Wind Speed"})]}),e.jsx("span",{className:"font-semibold text-gray-900",children:y(i.windSpeed)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Temperature"})]}),e.jsx("span",{className:"font-semibold text-gray-900",children:v(i.temperature)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Visibility"})]}),e.jsx("span",{className:"font-semibold text-gray-900",children:b(i.visibility)})]})]}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No weather data available"})}),e.jsx(c,{title:"Active Storms",action:e.jsx(R,{className:"w-4 h-4 text-gray-400"}),children:S?e.jsx(n,{size:"sm"}):((j=r==null?void 0:r.storms)==null?void 0:j.length)>0?e.jsx("div",{className:"space-y-2",children:r.storms.slice(0,3).map(t=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-0",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.type})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:t.intensity.windSpeed?`${t.intensity.windSpeed} kt`:"N/A"})]},t.id))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No active storms in this region"})}),e.jsx(c,{title:"Recent Earthquakes",action:e.jsx(N,{className:"w-4 h-4 text-gray-400"}),children:A?e.jsx(n,{size:"sm"}):((p=l==null?void 0:l.earthquakes)==null?void 0:p.length)>0?e.jsx("div",{className:"space-y-2",children:l.earthquakes.slice(0,3).map(t=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:["M",t.magnitude.toFixed(1)]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.place})]}),e.jsx("span",{className:"text-xs text-gray-400 ml-2",children:f(t.time)})]},t.id))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No recent earthquakes in this region"})})]}),e.jsx(c,{title:"Quick Info",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Region Details"}),e.jsxs("dl",{className:"space-y-1 text-gray-600",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{children:"Coordinates:"}),e.jsxs("dd",{className:"font-mono",children:[s==null?void 0:s.center[0],", ",s==null?void 0:s.center[1]]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{children:"Timezone:"}),e.jsx("dd",{children:s==null?void 0:s.timezone})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Data Sources"}),e.jsxs("ul",{className:"space-y-1 text-gray-600",children:[e.jsx("li",{children:"• Weather: Open-Meteo API"}),e.jsx("li",{children:"• Storms: NOAA NHC"}),e.jsx("li",{children:"• Seismic: USGS"})]})]})]})})]})};export{X as default};
